<!-- <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <title>Document</title>
  </head>
  <body></body>
</html> -->


<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sci-Fi Dashboard</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  body {
    background-color: #081826;
    color: #4ef037;
    font-family: 'Orbitron', sans-serif;
  }
  .chart-container {
    position: relative;
    margin: auto;
    height: 40vh;
    width: 80vw;
  }
</style>
</head>
<body>

<div class="chart-container" style="height: max-content;">
  <canvas id="line-chart" height="400"></canvas>
</div>

<script>
// Function to fetch Ethereum price in euros
async function fetchEthereumPrice() {
  const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=eur');
  const data = await response.json();
  return data.ethereum.eur;
}

// Line chart
var ctx = document.getElementById('line-chart').getContext('2d');
var lineChart = new Chart(ctx, {
  type: 'line',
  data: {
    labels: [], // Empty labels array, we will fill this with timestamps
    datasets: [{
      label: 'Ethereum Price (EUR)',
      backgroundColor: 'rgba(78, 240, 55, 0.5)',
      borderColor: 'rgba(78, 240, 55, 1)',
      data: [], // Empty data array, we will fill this with Ethereum prices
    }]
  },
  options: {
    scales: {
      y: {
        beginAtZero: false // Set to false so chart doesn't start at zero
      }
    }
  }
});

// Update the chart data every 10 seconds
setInterval(async function() {
  const newPrice = await fetchEthereumPrice();
  const currentTime = new Date().toLocaleTimeString(); // Get current time for the label
 
  // Add the new price and time to the dataset
  lineChart.data.labels.push(currentTime);
  lineChart.data.datasets.forEach((dataset) => {
    dataset.data.push(newPrice);
  });
 
  // Remove the oldest price and time to maintain a fixed number of data points
  if (lineChart.data.labels.length > 10) {
    lineChart.data.labels.shift();
    lineChart.data.datasets.forEach((dataset) => {
      dataset.data.shift();
    });
  }
 
  lineChart.update();
}, 5000);

</script>

</body>
</html>